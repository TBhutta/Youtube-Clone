{% extends "base.html" %}
<!-- prettier-ignore -->
{% block title %}You - YouTube Clone{% endblock %}
<!-- prettier-ignore -->
{% block styles %}
{% load static %}
<link rel="stylesheet" href="{% static 'home/watch-video-styles.css' %}" />
<!-- prettier-ignore -->
{% endblock %}
<!-- prettier-ignore -->
{% block scripts %}
{% load static %}
<script src="{% static 'home/js/watch_video.js' %}"></script>
<script>
  let url = "{% url 'add-comment' video_id=selected_video.id %}";
  let comments_url = "{% url 'get-comments' video_id=selected_video.id %}";
  let like_url = "{% url 'like-video' video_id=selected_video.id %}";
</script>
<!-- prettier-ignore -->
{% endblock %}
<!-- prettier-ignore -->
{% block content %}
<section class="video-and-comments-container">
  <video controls width="100%" data-video-id="{{ selected_video.id }}">
    <source src="{{ selected_video.video_file.url }}" />
  </video>
  <section class="video-info">
    <h2>{{ selected_video.title }}</h2>
    <section class="bottom-container">
      <section class="channel">
        <div class="profile">
          <img
            src="https://picsum.photos/seed/picsum/40/40"
            alt="[fetched image]"
            width="40"
            height="40"
          />
        </div>
        <section class="channel-info">
          {{ channel_username }}
          <p>20M subscribers</p>
        </section>
        <button type="button">Subscribe</button>
      </section>

      <section class="user-options">
        <button type="button" onclick="likeVideo()">Like</button>
        <button type="button" onclick="dislikeVideo()">Dislike</button>
        <button type="button">Share</button>
        <button type="button">Download</button>
        <button type="button">...</button>
      </section>
    </section>

    <section class="video-description-container">
      <section class="date-views-container">
        {{ selected_video.views }} views {{ selected_video.upload_date }}
      </section>
      <section class="video-description">
        {{ selected_video.description }}
      </section>
    </section>
  </section>
  <div class="top-bar">
    <h3 id="num-comments"></h3>
    <select name="filter" id="filter">
      Sort by
      <option value="top_comments">Top comments</option>
    </select>
  </div>
  <section class="add-comment-container">
    <div class="profile">
      <img
        src="https://picsum.photos/seed/picsum/40/40"
        alt="[fetched image]"
        width="40"
        height="40"
      />
    </div>
    <div>
      <input
        type="text"
        name="new-comment"
        id="new-comment"
        placeholder="Add a new comment..."
        onclick="showButtons()"
      />
      <div class="buttons">
        <button type="button" onclick="hideButtons()">Cancel</button>
        <button type="button" onclick="addComment()">Comment</button>
      </div>
    </div>
  </section>
  <section id="comments-container">

  </section>
</section>
<section class="recommended-videos">
  <p>Here are your recommended videos</p>
</section>
{% endblock %}
